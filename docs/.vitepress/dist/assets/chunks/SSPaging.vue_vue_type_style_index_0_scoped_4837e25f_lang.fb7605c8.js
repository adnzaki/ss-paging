import{r as w,e as b,f as h,_,t as C,g as N,o as u,c,b as s,u as l,F as R,h as S,j as g,i as m,k as B,l as P,n as x,m as D,w as $,v as T,a as q,q as A,s as I,x as U}from"../app.780ce4ef.js";const y=w(null),p=w(null),ee=()=>{const e=b({pageLinks:[],limit:10,offset:0,prev:0,next:0,first:0,last:0,setStart:0,totalRows:0,numLinks:!0,activeClass:"active",linkClass:"item",disabledClass:"disabled",showPaging:!0,search:"",data:[],orderBy:"",searchBy:"",sort:"ASC",whereClause:null,url:"",ascendingSort:!1,linkNum:!1,rows:10,token:"",useAuth:!0,delay:{active:!1,timeout:500},autoReset:{active:!1,timeout:3e3},sentences:{indonesia:{noData:"Tidak ada data yang ditampilkan",showRows:"Menampilkan baris",from:"dari",rows:"baris"},english:{noData:"No data to display",showRows:"Showing row",from:"from",rows:"rows"}},pagingLang:"english"});return{state:e,isDisabled(t){return t+1===this.activePage.value?e.disabledClass:""},onSearchChanged(){e.search===""&&e.autoReset.active&&setTimeout(()=>{e.offset=0,this.runPaging()},e.autoReset.timeout)},nav(t){e.offset=t,this.runPaging()},filter(){let t;e.delay.active?t=e.delay.timeout:t=0,setTimeout(()=>{e.offset=0,this.runPaging()},t)},reloadData(){e.offset=this.activePage.value-1,this.runPaging()},sortData(t){e.sort==="ASC"?e.ascendingSort=!0:e.ascendingSort=!1,e.ascendingSort?(e.ascendingSort=!1,e.sort="DESC"):(e.ascendingSort=!0,e.sort="ASC"),e.orderBy=t,this.runPaging()},showPerPage(){e.limit=parseInt(e.rows),e.offset=0,this.runPaging()},runPaging(){this.getData({token:e.token,lang:e.pagingLang,limit:e.limit,offset:e.offset,orderBy:e.orderBy,searchBy:e.searchBy,sort:e.sort,where:e.whereClause,search:e.search,url:e.url,linkNum:e.linkNum,activeClass:e.activeClass,linkClass:e.linkClass,autoReset:{active:e.autoReset.active,timeout:e.autoReset.timeout},delay:{active:e.delay.active,timeout:e.delay.timeout},useAuth:e.useAuth,beforeRequest:()=>{y.value!==null&&y.value()},afterRequest:()=>{p.value!==null&&p.value()}},!0)},getData(t,n=!1){e.token=t.token,e.pagingLang=t.lang;let a="";if(t.rawUrl===void 0){e.url=t.url,e.limit=t.limit,e.offset=t.offset*t.limit,e.orderBy=t.orderBy,typeof t.searchBy=="string"?e.searchBy=t.searchBy:e.searchBy=t.searchBy.join("-"),e.sort=t.sort,e.search=t.search;let r;e.search===""?r="":r="/"+e.search;let o=`${t.url}${e.limit}/${e.offset}/${e.orderBy}/${e.searchBy}/${e.sort}`;t.where===void 0||t.where===!1?(a=`${o}${r}`,e.whereClause=!1):a=`${o}/${e.whereClause}${r}`}else e.url=t.rawUrl,a=t.rawUrl;t.autoReset!==void 0&&(e.autoReset.active=t.autoReset.active,t.autoReset.timeout!==void 0&&(e.autoReset.timeout=t.autoReset.timeout)),t.delay!==void 0&&(e.delay.active=t.delay.active,t.delay.timeout!==void 0&&(e.delay.timeout=t.delay.timeout)),t.beforeRequest!==void 0&&(n||(y.value=()=>t.beforeRequest()),t.beforeRequest());let i={method:"GET",mode:t.cors===void 0?"cors":t.cors,headers:{Authorization:t.token??""}};t.useAuth||(i={method:"GET"}),fetch(a,i).then(r=>r.json()).then(r=>{e.data=r.container,this.create({rows:r.totalRows,start:t.offset,linkNum:t.linkNum??e.linkNum,activeClass:t.activeClass??e.activeClass,linkClass:t.linkClass??e.linkClass}),t.afterRequest!==void 0&&(n||(p.value=()=>t.afterRequest()),t.afterRequest())}).catch(r=>{console.error("Error:",r)})},create(t){e.totalRows=t.rows,e.activeClass=t.activeClass,e.linkClass=t.linkClass,e.linkNum=t.linkNum,e.pageLinks=[];let n=t.rows/e.limit;n=Math.ceil(n);let a;t.linkNum===!1&&(e.numLinks=!1),t.linkNum>n||t.linkNum<1?a=1:(t.linkNum%2!==0?a=t.linkNum-1:a=t.linkNum,a=this.activePage.value-a/2,a<1&&(a=1));for(let i=a;i<=n&&(e.pageLinks.push(i),e.pageLinks.length!==t.linkNum);i++);e.last=n,t.start===(e.last-=1)?e.next=t.start:e.next=t.start+1,t.start===e.first?e.prev=t.start:e.prev=t.start-1},activeLink(t){return t===this.activePage.value?e.activeClass:""},itemNumber:t=>globalThis.dataFrom.value+t,activePage:h(()=>e.offset/e.limit+1),dataTo:h(()=>{let t=e.offset/e.limit,n;return e.pageLinks.length===0?n=0:t===e.last?n=e.totalRows:n=e.offset+e.limit,n}),dataFrom:h(()=>{let t;return e.pageLinks.length===0?t=0:e.offset===0?t=1:t=e.offset+1,t}),rowRange(){if(e.pageLinks.length===0)return e.showPaging=!1,e.sentences[e.pagingLang]===void 0?"":e.sentences[e.pagingLang].noData;{e.showPaging=!0;let t="Unable to load rows range.";return e.sentences[e.pagingLang]!==void 0&&(t=`${e.sentences[e.pagingLang].showRows} ${this.dataFrom.value} - 
                          ${this.dataTo.value} ${e.sentences[e.pagingLang].from} ${e.totalRows} 
                          ${e.sentences[e.pagingLang].rows}`),t}}}};const k=e=>(B("data-v-88562992"),e=e(),P(),e),M={key:0},E=k(()=>s("th",null,"#",-1)),F=k(()=>s("th",null,"Category",-1)),V=k(()=>s("th",null,"Province",-1)),j=k(()=>s("th",null,"City",-1)),z={key:1},G={__name:"DataTable",setup(e){const t=m("paging"),{data:n}=C(t.state),a=w(!1);return N(()=>{t.state.rows=10,t.getData({lang:"indonesia",limit:10,offset:0,orderBy:"institution_name",searchBy:"institution_name",sort:"ASC",search:"",url:"https://yesstudyabroad.actudent.com/admin/institute/get-data/all/all/none/none/null/",autoReset:{active:!0,timeout:500},linkNum:3,activeClass:"active",useAuth:!1,beforeRequest:()=>{a.value=!1},afterRequest:()=>{setTimeout(()=>{a.value=!0},1e3)}})}),(i,r)=>a.value?(u(),c("table",M,[s("thead",null,[s("tr",null,[E,s("th",{onClick:r[0]||(r[0]=o=>l(t).sortData("institution_name")),class:"cursor-pointer"},"Name ^"),F,V,j])]),s("tbody",null,[(u(!0),c(R,null,S(l(n),(o,v)=>(u(),c("tr",{key:v},[s("td",null,g(v+1),1),s("td",null,g(o.name),1),s("td",null,g(o.category),1),s("td",null,g(o.province),1),s("td",null,g(o.city),1)]))),128))])])):(u(),c("p",z,"Loading..."))}},te=_(G,[["__scopeId","data-v-88562992"]]);const O=["onClick"],H={__name:"Navigation",setup(e){const t=m("paging"),{numLinks:n,pageLinks:a,first:i,prev:r,next:o,last:v}=C(t.state);return(X,d)=>(u(),c("ul",null,[s("li",null,[s("a",{href:"#",onClick:d[0]||(d[0]=f=>l(t).nav(l(i)))},"First")]),s("li",null,[s("a",{href:"#",onClick:d[1]||(d[1]=f=>l(t).nav(l(r)))},"Prev")]),l(n)?(u(!0),c(R,{key:0},S(l(a),(f,L)=>(u(),c("li",{key:L},[s("a",{href:"#",class:x(l(t).activeLink(f)),onClick:Y=>l(t).nav(f-1)},g(f),11,O)]))),128)):D("",!0),s("li",null,[s("a",{href:"#",onClick:d[2]||(d[2]=f=>l(t).nav(l(o)))},"Next")]),s("li",null,[s("a",{href:"#",onClick:d[3]||(d[3]=f=>l(t).nav(l(v)))},"Last")])]))}},ae=_(H,[["__scopeId","data-v-0cf55b01"]]);const J=q('<option value="10" data-v-6cc7ed09>10 rows</option><option value="25" data-v-6cc7ed09>25 rows</option><option value="50" data-v-6cc7ed09>50 rows</option><option value="100" data-v-6cc7ed09>100 rows</option><option value="250" data-v-6cc7ed09>250 rows</option>',5),K=[J],Q={__name:"RowSelection",setup(e){const t=m("paging");return(n,a)=>$((u(),c("select",{"onUpdate:modelValue":a[0]||(a[0]=i=>l(t).state.rows=i),onChange:a[1]||(a[1]=i=>l(t).showPerPage())},K,544)),[[T,l(t).state.rows]])}},se=_(Q,[["__scopeId","data-v-6cc7ed09"]]);const W={__name:"SearchBox",setup(e){const t=m("paging"),n=h(()=>t.state.search);return A(n,()=>t.onSearchChanged()),(a,i)=>(u(),c("form",{onSubmit:i[1]||(i[1]=U(r=>l(t).filter(),["prevent"]))},[$(s("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>l(t).state.search=r),placeholder:"Search for name..."},null,512),[[I,l(t).state.search]])],32))}},ne=_(W,[["__scopeId","data-v-c9e05cf6"]]);export{te as D,ae as N,se as R,ne as S,ee as u};
